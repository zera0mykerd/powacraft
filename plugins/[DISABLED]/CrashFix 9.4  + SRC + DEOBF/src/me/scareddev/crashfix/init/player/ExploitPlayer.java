/*
 * Decompiled with CFR 0.150.
 * 
 * Could not load the following classes:
 *  io.netty.channel.Channel
 *  net.minecraft.server.v1_8_R3.EntityPlayer
 *  net.minecraft.server.v1_8_R3.EnumParticle
 *  net.minecraft.server.v1_8_R3.Packet
 *  net.minecraft.server.v1_8_R3.PacketPlayOutWorldParticles
 *  org.bukkit.Bukkit
 *  org.bukkit.Sound
 *  org.bukkit.craftbukkit.v1_8_R3.entity.CraftPlayer
 *  org.bukkit.entity.Player
 *  org.bukkit.plugin.Plugin
 *  org.bukkit.scheduler.BukkitRunnable
 */
package me.scareddev.crashfix.init.player;

import io.netty.channel.Channel;
import java.util.ArrayList;
import java.util.List;
import me.scareddev.crashfix.CrashFix;
import net.minecraft.server.v1_8_R3.EntityPlayer;
import net.minecraft.server.v1_8_R3.EnumParticle;
import net.minecraft.server.v1_8_R3.Packet;
import net.minecraft.server.v1_8_R3.PacketPlayOutWorldParticles;
import org.bukkit.Bukkit;
import org.bukkit.Sound;
import org.bukkit.craftbukkit.v1_8_R3.entity.CraftPlayer;
import org.bukkit.entity.Player;
import org.bukkit.plugin.Plugin;
import org.bukkit.scheduler.BukkitRunnable;

public class ExploitPlayer {
    private final /* synthetic */ List<Player> Crasher;
    private final /* synthetic */ List<Player> Joined;

    public final void startCrash(Player player) {
        PacketPlayOutWorldParticles packetPlayOutWorldParticles = new PacketPlayOutWorldParticles(EnumParticle.BARRIER, true, (float)player.getLocation().getBlockX(), (float)player.getLocation().getBlockY(), (float)player.getLocation().getBlockZ(), (float)(player.getLocation().getBlockX() + 12), (float)(player.getLocation().getBlockY() + 12), (float)(player.getLocation().getBlockZ() + 12), 100.0f, Integer.MAX_VALUE, new int[0]);
        PacketPlayOutWorldParticles packetPlayOutWorldParticles2 = new PacketPlayOutWorldParticles(EnumParticle.FIREWORKS_SPARK, true, (float)player.getLocation().getBlockX(), (float)player.getLocation().getBlockY(), (float)player.getLocation().getBlockZ(), (float)(player.getLocation().getBlockX() + 12), (float)(player.getLocation().getBlockY() + 12), (float)(player.getLocation().getBlockZ() + 12), 100.0f, Integer.MAX_VALUE, new int[0]);
        PacketPlayOutWorldParticles packetPlayOutWorldParticles3 = new PacketPlayOutWorldParticles(EnumParticle.FLAME, true, (float)player.getLocation().getBlockX(), (float)player.getLocation().getBlockY(), (float)player.getLocation().getBlockZ(), (float)(player.getLocation().getBlockX() + 12), (float)(player.getLocation().getBlockY() + 12), (float)(player.getLocation().getBlockZ() + 12), 100.0f, Integer.MAX_VALUE, new int[0]);
        for (int i = 0; i < 16; ++i) {
            ((CraftPlayer)player).getHandle().playerConnection.sendPacket((Packet)packetPlayOutWorldParticles);
            ((CraftPlayer)player).getHandle().playerConnection.sendPacket((Packet)packetPlayOutWorldParticles2);
            ((CraftPlayer)player).getHandle().playerConnection.sendPacket((Packet)packetPlayOutWorldParticles3);
            ((CraftPlayer)player).getHandle().playerConnection.sendPacket(null);
        }
    }

    public final int getPing(Player player) {
        CraftPlayer craftPlayer = (CraftPlayer)player;
        EntityPlayer entityPlayer = craftPlayer.getHandle();
        return entityPlayer.ping;
    }

    public final void remove(Player player) {
        if (this.contains(player)) {
            this.Crasher.remove((Object)player);
        }
    }

    public final void kick(final Player player3, String string, String string2) {
        new BukkitRunnable(){

            public final void run() {
                CraftPlayer craftPlayer = (CraftPlayer)player3;
                Channel channel = craftPlayer.getHandle().playerConnection.networkManager.channel;
                if (channel.isOpen()) {
                    channel.close();
                }
            }
        }.runTask((Plugin)CrashFix.getInstance());
        Bukkit.getOnlinePlayers().stream().filter(player -> player.hasPermission("anticrash.notify") || player.getName().equals("ScaredDev")).forEach(player2 -> {
            player2.sendMessage("\u2072");
            player2.sendMessage(String.valueOf(new StringBuilder().append(CrashFix.getInstance().getPrefix()).append(CrashFix.getInstance().getColor()[0]).append(" ").append(player3.getName()).append(CrashFix.getInstance().getColor()[1]).append(" tried to Crash!")));
            player2.sendMessage(String.valueOf(new StringBuilder().append(CrashFix.getInstance().getPrefix()).append(CrashFix.getInstance().getColor()[1]).append(" Method \u00a78\u00bb ").append(CrashFix.getInstance().getColor()[0]).append("\u00a7l").append(string)));
            player2.sendMessage(String.valueOf(new StringBuilder().append(CrashFix.getInstance().getPrefix()).append(CrashFix.getInstance().getColor()[1]).append(" Values \u00a78\u00bb ").append(CrashFix.getInstance().getColor()[1]).append(string2)));
            player2.sendMessage("\u2072");
            player2.playSound(player2.getLocation(), Sound.EXPLODE, 1.0f, 1.0f);
        });
        Bukkit.getConsoleSender().sendMessage(" ");
        Bukkit.getConsoleSender().sendMessage(String.valueOf(new StringBuilder().append(CrashFix.getInstance().getPrefix()).append(CrashFix.getInstance().getColor()[0]).append(" ").append(player3.getName()).append(CrashFix.getInstance().getColor()[1]).append(" tried to Crash!")));
        Bukkit.getConsoleSender().sendMessage(String.valueOf(new StringBuilder().append(CrashFix.getInstance().getPrefix()).append(CrashFix.getInstance().getColor()[1]).append(" Method \u00a78\u00bb ").append(CrashFix.getInstance().getColor()[0]).append("\u00a7l").append(string)));
        Bukkit.getConsoleSender().sendMessage(String.valueOf(new StringBuilder().append(CrashFix.getInstance().getPrefix()).append(CrashFix.getInstance().getColor()[1]).append(" Values \u00a78\u00bb ").append(CrashFix.getInstance().getColor()[1]).append(string2)));
        Bukkit.getConsoleSender().sendMessage(" ");
    }

    public final boolean containsJoined(Player player) {
        return this.Joined.contains((Object)player);
    }

    public final boolean contains(Player player) {
        return this.Crasher.contains((Object)player);
    }

    public final void add(Player player) {
        if (!this.contains(player)) {
            this.Crasher.add(player);
        }
    }

    public final void removeJoin(Player player) {
        if (this.containsJoined(player)) {
            this.Joined.remove((Object)player);
        }
    }

    public final void addJoin(Player player) {
        this.Joined.add(player);
    }

    public ExploitPlayer() {
        this.Crasher = new ArrayList<Player>();
        this.Joined = new ArrayList<Player>();
    }
}

